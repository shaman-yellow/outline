


x <- PubChemR::get_properties(
  properties = "LiteratureCount",
  identifier = "aspirin",
)


.add_properties.PubChemR()
maps <- PubChemR:::property_map 
maps


```{r}
x <- get_ctd_data()
y <- dplyr::filter(x$CTD_diseases, grpl(DiseaseName, "colitis", T))
y <- dplyr::filter(x$CTD_chemicals_diseases, DiseaseID %in% y$DiseaseID)

```



je.bio <- job_esearch("drug Bioactivity")
vis(je.bio)



```{r}
vn$runs
lapply(vn$runs, function(x) vn$res.ligand[[ x[1] ]])
lapply(vn$runs, function(x) vn$res.receptor[[ x[2] ]])
```

en.top@step <- 1L
en.top <- step2(en.top, "hsa05321")
en.top@plots$step2$p.pathviews$hsa05321$ins
en.top@tables$step2$res.pathviews


```{r eval = T, echo = F, results = "asis"}
#| TOP-hsa05321-visualization
autor(en.top@plots$step2$p.pathviews$hsa05321)
```


```{r}
pretty_docking("9ilb.pdbqt", "72326_into_9ilb_out.pdbqt", "vina_space/72326_into_9ilb")
```


```{r}
txt <- pdftools::pdf_text("./material/note.pdf")
```


tc2@params$dbs %<>% lapply(
  function(x) {
    x@db <- data.frame()
    x
  })


link <- tc2@params$link
ele <- link$findElement("xpath", paste0("//div[@class='el-radio-group']//span[text()='", "Ingredients", "']/.."))
ele$clickElement()


x <- tc2@params$link$getPageSource()
get_table.html(x[[1]])

link <- start_drive(port = 8888)
link$open()

"//div//input[@class='el-input__inner']"

ele <- link$findElement("xpath", paste0("//span[@class='el-pagination__sizes']",
    "//i[@class='el-icon el-select__caret el-select__icon']"))

ele$clickElement()

link <- tc2@params$link
ele2 <- link$findElement("xpath", "//ul[@role='listbox']//li//span[contains(text(), '200条/页')]")
ele2 <- link$findElement("xpath", "//ul[@role='listbox']//li//span[text()='200条/页']")
ele2$clickElement()

x <- tc2@params$link$getPageSource()
y <- get_table.html(x[[1]])

# 黄柏
strx(x[[1]], ".{200}100条.{200}")


tc <- job_tcga("")
tc <- step1(tc)
